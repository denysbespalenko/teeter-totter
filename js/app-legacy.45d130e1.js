(function(){"use strict";var t={4389:function(t,e,n){n(6992),n(8674),n(9601),n(7727);var o,i,r=n(144),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",[n("Header"),n("GameSection")],1)},a=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("UIContainer",{attrs:{tag:"header",bg_color:t.headerColor}},[t.isGameOver?n("UIButton",{nativeOn:{click:function(e){return t.startTheGame.apply(null,arguments)}}},[t._v(" Start new game ")]):t._e(),t.isGameOver?t._e():n("UIButton",{attrs:{bg_color:t.isPaused?"success":"error"},nativeOn:{click:function(e){return t.togglePause.apply(null,arguments)}}},[t._v(" "+t._s(t.isPaused?"Start":"Pause")+" ")]),n("Score")],1)},u=[],c=n(3019),f=n(629),d="#FFF",h="#A6ACCD",g="#89DDFF",p="#C792EA",m="#f5f5f5",x="#009688",v="#ff5252",S="#000",b="#FFF",B="#37474f",_=[h,g,p],C={name:"UIContainer",props:{tag:{type:String,default:"section"},bg_color:{type:String,default:d}},computed:{cssProps:function(){return{"background-color":this.bg_color}}},render:function(t){return t(this.tag,{class:"ui-container ",style:this.cssProps,attrs:{id:this.$parent.$options._componentTag}},this.$slots.default)}},y=C,F=n(1001),Z=(0,F.Z)(y,o,i,!1,null,"5f197877",null),P=Z.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"ui-button",style:t.cssPropsButton},[n("span",{style:t.cssPropsText},[t._t("default")],2),n("span",[t._t("icon")],2)])},L=[],T=(n(1539),["success","error"]),O={name:"UIButton",props:{bg_color:{type:String,default:m},text_color:{type:String,default:S}},methods:{compareValues:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T;return Array.isArray(e)||(e=[e]),e.some((function(e){return e===t}))}},computed:{cssPropsButton:function(){var t=this.bg_color;return{"background-color":this.compareValues(t,"success")?x:this.compareValues(t,"error")?v:t}},cssPropsText:function(){return{color:this.compareValues(this.bg_color)?b:this.text_color}}}},I=O,k=(0,F.Z)(I,w,L,!1,null,"5b454d57",null),$=k.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"score"},[n("div",{staticClass:"score-item"},[n("p",[t._v(" Score: "),n("span",[t._v(t._s(t.leftSideBoxes.length))])])]),n("div",{staticClass:"score-item"},[n("p",[t._v(" Left side weight: "),n("span",[t._v(t._s(t.leftSideWeight))])])]),n("div",{staticClass:"score-item"},[n("p",[t._v(" Right side weight: "),n("span",[t._v(t._s(t.rightSideWeight))])])])])},G=[],D={name:"Score",computed:(0,c.Z)((0,c.Z)({},(0,f.Se)(["leftSideWeight","rightSideWeight"])),(0,f.rn)(["leftSideBoxes"]))},E=D,A=(0,F.Z)(E,U,G,!1,null,null,null),R=A.exports,W={name:"Header",data:function(){return{headerColor:B}},components:{UIContainer:P,UIButton:$,Score:R},methods:(0,c.Z)((0,c.Z)({},(0,f.OI)(["togglePause"])),(0,f.nv)(["startTheGame"])),computed:(0,c.Z)((0,c.Z)({},(0,f.rn)(["isPaused"])),(0,f.Se)(["isGameOver"]))},M=W,j=(0,F.Z)(M,l,u,!1,null,"25efb461",null),H=j.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("UIContainer",[n("BoxesSection"),n("SwingSection")],1)},N=[],V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"boxes-section"},[t._l(t.leftSideFallingBoxes,(function(t,e){return n("FallingBox",{key:t.id,attrs:{box:t,isLeft:!0,itemIndex:e}})})),t._l(t.rightSideFallingBoxes,(function(t,e){return n("FallingBox",{key:t.id,attrs:{box:t,isLeft:!1,itemIndex:e}})}))],2)},z=[],J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Box",{ref:"box",attrs:{box:t.box,top:t.top,isLeft:t.isLeft,isPaused:t.isPaused}})},K=[],Q=(n(9653),["triangle","circle","rectangle"]),X=10,Y=1,tt=2,et=20,nt=10,ot=30,it=-30,rt=200,st=10,at=5;function lt(){return document.querySelector(".crossbar").getBoundingClientRect()}var ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box",class:t.propsClassName,style:t.propsStyles},[t._v(" "+t._s(t.box.weight)+" ")])},ct=[],ft=(n(2222),{name:"Box",props:{box:{type:Object,require:!0},top:{type:Number,default:0},isLeft:{type:Boolean,default:!0}},computed:(0,c.Z)((0,c.Z)({},(0,f.rn)(["timeoutDuration"])),{},{propsClassName:function(){var t=this.box.type;return"box-".concat(Q[t])},offsetPosition:function(){var t=this.box.offset;return this.isLeft?{left:"".concat(50-10*t,"%")}:{left:"".concat(50+10*t,"%")}},propsStyles:function(){var t=this.box,e=t.type,n=t.size,o={};return o=0===e?{borderWidth:"0 ".concat(n,"px ").concat(n,"px ").concat(n/3,"px"),lineHeight:"".concat(n,"px"),borderColor:"transparent transparent ".concat(_[e]," transparent")}:{height:"".concat(n,"px"),width:"".concat(n,"px"),lineHeight:"".concat(n,"px"),backgroundColor:_[e]},(0,c.Z)((0,c.Z)({transition:"".concat(this.timeoutDuration,"ms"),top:"".concat(this.top,"px")},this.offsetPosition),o)}})}),dt=ft,ht=(0,F.Z)(dt,ut,ct,!1,null,"cbae11be",null),gt=ht.exports,pt={name:"FallingBox",components:{Box:gt},props:{box:{type:Object,required:!0},itemIndex:{type:Number,required:!0},isLeft:{type:Boolean,default:!0}},data:function(){return{timerId:null,top:this.box.size,bottom:null,animationStep:30}},computed:(0,c.Z)((0,c.Z)({},(0,f.rn)(["isPaused","isLeftTurn","timeoutDuration"])),(0,f.Se)(["rotationAngle"])),methods:(0,c.Z)((0,c.Z)((0,c.Z)({},(0,f.nv)(["newBoxesCircle"])),(0,f.OI)(["decreaseTimeoutDuration"])),{},{blockBottomPosition:function(){var t=lt(),e=t.top,n=t.bottom,o=this.box.offset;return this.rotationAngle>=0?e+(n-e)/2*(1-o/(nt/2)):n-(n-e)/2*(1-o/(nt/2))},controlledFalling:function(){var t=this;this.bottom=this.$refs.box.$el.getBoundingClientRect().bottom,this.timerId=setTimeout((function(){t.bottom>=t.blockBottomPosition()-t.animationStep&&(t.newBoxesCircle(),t.decreaseTimeoutDuration(),clearInterval(t.timerId)),t.top+=t.animationStep}),this.timeoutDuration)},unControlledFalling:function(){this.bottom=this.$refs.box.$el.getBoundingClientRect().bottom,this.top=this.blockBottomPosition(),this.newBoxesCircle()},boxUpdated:function(){if(this.isPaused)return clearInterval(this.timerId);0===this.itemIndex&&(this.isLeft&&this.isLeftTurn?this.controlledFalling():this.isLeft||this.isLeftTurn||this.unControlledFalling())}}),watch:{isLeftTurn:{handler:function(){this.boxUpdated()},deep:!0},itemIndex:{handler:function(){this.boxUpdated()},deep:!0}},updated:function(){this.boxUpdated()}},mt=pt,xt=(0,F.Z)(mt,J,K,!1,null,null,null),vt=xt.exports,St={name:"BoxesSection",components:{FallingBox:vt},computed:(0,c.Z)({},(0,f.rn)(["leftSideFallingBoxes","rightSideFallingBoxes"])),methods:(0,c.Z)((0,c.Z)({},(0,f.OI)(["slideLeft","slideRight"])),{},{moveBox:function(t){37===t.keyCode&&this.slideLeft(),39===t.keyCode&&this.slideRight()}}),beforeMount:function(){window.addEventListener("keydown",this.moveBox)},beforeDestroy:function(){window.removeEventListener("keydown",this.moveBox)}},bt=St,Bt=(0,F.Z)(bt,V,z,!1,null,"633dc229",null),_t=Bt.exports,Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"swing-section"},[n("Crossbar"),n("CrossbarPillar")],1)},yt=[],Ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"crossbar",class:t.animateClass?"crossbar-gameover":"",style:t.cssSyles},[t._l(t.leftSideBoxes,(function(t){return n("Box",{key:t.id,attrs:{box:t}})})),t._l(t.rightSideBoxes,(function(t){return n("Box",{key:t.id,attrs:{box:t,isLeft:!1}})}))],2)},Zt=[],Pt={name:"Crossbar",components:{Box:gt},computed:(0,c.Z)((0,c.Z)((0,c.Z)({},(0,f.Se)(["rotationAngle","isGameOver","isGameStarted"])),(0,f.rn)(["leftSideBoxes","rightSideBoxes"])),{},{cssSyles:function(){return{transform:"rotate(".concat(this.rotationAngle/2,"deg)"),background:B}},animateClass:function(){return this.isGameOver&&this.isGameStarted}})},wt=Pt,Lt=(0,F.Z)(wt,Ft,Zt,!1,null,null,null),Tt=Lt.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"crossbar-pillar"})},It=[],kt={},$t=(0,F.Z)(kt,Ot,It,!1,null,null,null),Ut=$t.exports,Gt={name:"SwingSection",components:{Crossbar:Tt,CrossbarPillar:Ut}},Dt=Gt,Et=(0,F.Z)(Dt,Ct,yt,!1,null,"07c51cbc",null),At=Et.exports,Rt={name:"GameSection",components:{UIContainer:P,BoxesSection:_t,SwingSection:At}},Wt=Rt,Mt=(0,F.Z)(Wt,q,N,!1,null,"5d2cf9d7",null),jt=Mt.exports,Ht={name:"App",components:{Header:H,GameSection:jt}},qt=Ht,Nt=(0,F.Z)(qt,s,a,!1,null,null,null),Vt=Nt.exports,zt={isPaused:!0,isLeftTurn:!0,leftSideBoxes:[],rightSideBoxes:[],leftSideFallingBoxes:[],rightSideFallingBoxes:[],timeoutDuration:rt,currentLevelUpCount:0},Jt={leftSideWeight:function(t){return t.leftSideBoxes.reduce((function(t,e){return t+e.weight*e.offset}),0)},rightSideWeight:function(t){return t.rightSideBoxes.reduce((function(t,e){return t+e.weight*e.offset}),0)},rotationAngle:function(t,e){var n=e.rightSideWeight,o=e.leftSideWeight;if(!o||o===n)return 0;var i=Math.max(n,o);return(n-o)/i*100},isGameStarted:function(t,e){var n=e.rightSideWeight;return Boolean(n)},isGameOver:function(t,e){var n=e.rightSideWeight,o=e.leftSideWeight,i=e.rotationAngle,r=e.isGameStarted;return!r||i>=ot||i<=it||Math.abs(o-n)>=et&&0!==o}},Kt=function(){var t=Date.now()+Math.random(),e=Math.floor(Math.random()*Q.length),n=Math.floor(Math.random()*X)+Y,o=Math.floor(Math.random()*nt/2)+1,i=12*n;return{id:t,type:e,weight:n,offset:o,size:i}},Qt={togglePause:function(t){t.isPaused=!t.isPaused},toggleTurn:function(t){t.isLeftTurn=!t.isLeftTurn},addLeftSideFallingBox:function(t){var e=Kt();t.leftSideFallingBoxes.push(e)},addRightSideFallingBox:function(t){var e=Kt();t.rightSideFallingBoxes.push(e)},pushBoxToLeftSide:function(t){var e=t.leftSideFallingBoxes.shift();t.leftSideBoxes.push(e)},pushBoxToRightSide:function(t){var e=t.rightSideFallingBoxes.shift();t.rightSideBoxes.push(e)},initBoxes:function(t){for(var e=0;e<tt;e++){var n=Kt(),o=Kt();t.leftSideFallingBoxes.push(n),t.rightSideFallingBoxes.push(o)}},slideLeft:function(t){t.isPaused||t.leftSideFallingBoxes[0].offset>=5||(t.leftSideFallingBoxes[0].offset+=1)},slideRight:function(t){t.isPaused||t.leftSideFallingBoxes[0].offset<=1||(t.leftSideFallingBoxes[0].offset-=1)},decreaseTimeoutDuration:function(t){t.currentLevelUpCount+=1,t.currentLevelUpCount>=at&&(t.currentLevelUpCount=0,t.timeoutDuration-=st)},resetState:function(t){t.isPaused=!0,t.isLeftTurn=!0,t.leftSideBoxes=[],t.rightSideBoxes=[],t.leftSideFallingBoxes=[],t.rightSideFallingBoxes=[],t.timeoutDuration=rt,t.currentLevelUpCount=0,t.currentRotationAngle=0}},Xt={newBoxesCircle:function(t){var e=t.commit,n=t.state,o=t.getters;n.isLeftTurn&&(e("pushBoxToLeftSide"),e("addLeftSideFallingBox")),n.leftSideBoxes.length>n.rightSideBoxes.length&&(e("toggleTurn"),e("addRightSideFallingBox"),e("pushBoxToRightSide"),e("toggleTurn")),o.isGameOver&&e("togglePause")},startTheGame:function(t){var e=t.commit;e("resetState"),e("initBoxes"),e("pushBoxToRightSide")}};r.Z.use(f.ZP);var Yt=new f.ZP.Store({state:zt,getters:Jt,mutations:Qt,actions:Xt});r.Z.config.productionTip=!1,new r.Z({store:Yt,render:function(t){return t(Vt)}}).$mount("#app")}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,o,i,r){if(!o){var s=1/0;for(c=0;c<t.length;c++){o=t[c][0],i=t[c][1],r=t[c][2];for(var a=!0,l=0;l<o.length;l++)(!1&r||s>=r)&&Object.keys(n.O).every((function(t){return n.O[t](o[l])}))?o.splice(l--,1):(a=!1,r<s&&(s=r));if(a){t.splice(c--,1);var u=i();void 0!==u&&(e=u)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[o,i,r]}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,r,s=o[0],a=o[1],l=o[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)var c=l(n)}for(e&&e(o);u<s.length;u++)r=s[u],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(c)},o=self["webpackChunkteeter_totter"]=self["webpackChunkteeter_totter"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(4389)}));o=n.O(o)})();
//# sourceMappingURL=app-legacy.45d130e1.js.map